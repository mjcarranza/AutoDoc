{"ast":null,"code":"\"use strict\"; // Copyright 2017 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// ** This file is automatically generated by gapic-generator-typescript. **\n// ** https://github.com/googleapis/gapic-generator-typescript **\n// ** All changes to this file may be overwritten. **\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.call = void 0;\n\nconst fs = require(\"fs\");\n\nconst is = require(\"is\");\n\nconst promisify_1 = require(\"@google-cloud/promisify\");\n\nconst gax = require(\"google-gax\"); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nconst _requestToObject = request => {\n  if (is.string(request)) {\n    // Is this a URL or a local file?\n    // Guess based on what the string looks like, and build the full\n    // request object in the correct format.\n    if (request.indexOf('://') === -1 || request.indexOf('file://') === 0) {\n      request = {\n        image: {\n          source: {\n            filename: request\n          }\n        }\n      };\n    } else {\n      request = {\n        image: {\n          source: {\n            imageUri: request\n          }\n        }\n      };\n    }\n  } else if (Buffer.isBuffer(request)) {\n    // Drop the buffer one level lower; it will get dealt with later\n    // in the function. This allows sending <Buffer> and {image: <Buffer>} to\n    // both work identically.\n    request = {\n      image: request\n    };\n  }\n\n  return request;\n};\n\nconst _coerceRequest = (request, callback) => {\n  // At this point, request must be an object with an `image` key; if not,\n  // it is an error. If there is no image, throw an exception.\n  if (!is.object(request) || is.undefined(request.image)) {\n    return callback(new Error('No image present.'));\n  } // If this is a buffer, read it and send the object\n  // that the Vision API expects.\n\n\n  if (Buffer.isBuffer(request.image)) {\n    request.image = {\n      content: request.image.toString('base64')\n    };\n  } // If the file is specified as a filename and exists on disk, read it\n  // and coerce it into the base64 content.\n\n\n  if (request.image.source && request.image.source.filename) {\n    fs.readFile(request.image.source.filename, (err, blob) => {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      request.image.content = blob.toString('base64');\n      delete request.image.source;\n      return callback(null, request);\n    });\n  } else {\n    return callback(null, request);\n  }\n};\n\nconst _createSingleFeatureMethod = featureValue => {\n  return function (request, callOptionsOrCallback, callback) {\n    // confidence check: If we got a string or buffer, we need this to be\n    // in object form now, so we can tack on the features list.\n    //\n    // Do the minimum required conversion, which can also be guaranteed to\n    // be synchronous (e.g. no file loading yet; that is handled by\n    // annotateImage later.\n    const annotateImageRequest = _requestToObject(request); // If a callback was provided and options were skipped, normalize\n    // the argument names.\n\n\n    let callOptions;\n\n    if (is.undefined(callback) && is.function(callOptionsOrCallback)) {\n      callback = callOptionsOrCallback;\n      callOptions = undefined;\n    } else {\n      callOptions = callOptionsOrCallback;\n    } // Add the feature to the request.\n\n\n    annotateImageRequest.features = annotateImageRequest.features || [{\n      type: featureValue\n    }]; // If the user submitted explicit features that do not line up with\n    // the precise method called, throw an exception.\n\n    for (const feature of annotateImageRequest.features) {\n      if (feature.type !== featureValue) {\n        throw new Error('Setting explicit features is not supported on this method. ' + 'Use the #annotateImage method instead.');\n      }\n    } // Call the underlying #annotateImage method.\n\n\n    return this.annotateImage(annotateImageRequest, callOptions, callback);\n  };\n};\n\nfunction call(apiVersion) {\n  const methods = {};\n  /**\n   * Annotate a single image with the requested features.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#annotateImage\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object[]} request.features An array of the specific annotation\n   *     features being requested. This should take a form such as:\n   *\n   *         [{type: vision.types.Feature.Type.FACE_DETECTION},\n   *         {type: vision.types.Feature.Type.WEB_DETECTION}]\n   *\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {source: {imageUri: 'gs://path/to/image.jpg'}},\n   *   features: [],\n   * };\n   * client\n   *   .annotateImage(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.annotateImage = (0, promisify_1.promisify)(function (request, callOptionsOrCallback, callback) {\n    // If a callback was provided and options were skipped, normalize\n    // the argument names.\n    let callOptions;\n\n    if (is.undefined(callback) && is.function(callOptionsOrCallback)) {\n      callback = callOptionsOrCallback;\n      callOptions = undefined;\n    } else {\n      callOptions = callOptionsOrCallback;\n    } // If we got a filename for the image, open the file and transform\n    // it to content.\n\n\n    return _coerceRequest(request, (err, req) => {\n      if (err) {\n        return callback(err);\n      } // Call the GAPIC batch annotation function.\n\n\n      const requests = {\n        requests: [req]\n      };\n      return this.batchAnnotateImages(requests, callOptions, (err, r) => {\n        // If there is an error, handle it.\n        if (err) {\n          return callback(err);\n        } // We are guaranteed to only have one response element, since we\n        // only sent one image.\n\n\n        const response = r.responses[0]; // Fire the callback if applicable.\n\n        return callback(undefined, response);\n      });\n    });\n  });\n  const protoFilesRoot = gax.protobuf.Root.fromJSON( // eslint-disable-next-line @typescript-eslint/no-var-requires\n  require('../protos/protos.json'));\n  const features = protoFilesRoot.lookup(`google.cloud.vision.${apiVersion}.Feature.Type`).values;\n  /**\n   * Annotate a single image with face detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#faceDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .faceDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.faceDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.FACE_DETECTION));\n  /**\n   * Annotate a single image with landmark detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#landmarkDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .landmarkDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.landmarkDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LANDMARK_DETECTION));\n  /**\n   * Annotate a single image with logo detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#logoDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .logoDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.logoDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LOGO_DETECTION));\n  /**\n   * Annotate a single image with label detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#labelDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .labelDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.labelDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LABEL_DETECTION));\n  /**\n   * Annotate a single image with text detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#textDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .textDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.textDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.TEXT_DETECTION));\n  /**\n   * Annotate a single image with document text detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#documentTextDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .documentTextDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.documentTextDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.DOCUMENT_TEXT_DETECTION));\n  /**\n   * Annotate a single image with safe search detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#safeSearchDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .safeSearchDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.safeSearchDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.SAFE_SEARCH_DETECTION));\n  /**\n   * Annotate a single image with image properties.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#imageProperties\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .imageProperties(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.imageProperties = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.IMAGE_PROPERTIES));\n  /**\n   * Annotate a single image with crop hints.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#cropHints\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .cropHints(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.cropHints = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.CROP_HINTS));\n  /**\n   * Annotate a single image with web detection.\n   *\n   * @see v1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1.AnnotateImageRequest\n   *\n   * @method v1.ImageAnnotatorClient#webDetection\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision');\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .webDetection(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  methods.webDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.WEB_DETECTION));\n  /**\n   * Annotate a single image with the result from Product Search.\n   *\n   * @see v1p3beta1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1p3beta1.AnnotateImageRequest\n   *\n   * @method v1p3beta1.ImageAnnotatorClient#productSearch\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1p3beta1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * const vision = require('@google-cloud/vision').v1p3beta1;\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .productSearch(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n  if (features.PRODUCT_SEARCH !== undefined) {\n    methods.productSearch = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.PRODUCT_SEARCH));\n  }\n  /**\n   * Annotate a single image with localization vectors.\n   *\n   * @see v1p3beta1.ImageAnnotatorClient#batchAnnotateImages\n   * @see google.cloud.vision.v1p3beta1.AnnotateImageRequest\n   *\n   * @method v1p3beta1.ImageAnnotatorClient#objectLocalization\n   * @param {object|string|Buffer} request A representation of the request\n   *     being sent to the Vision API. This is an\n   *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n   *     For simple cases, you may also send a string (the URL or filename of\n   *     the image) or a buffer (the image itself).\n   * @param {object} request.image A dictionary-like object representing the\n   *     image. This should have a single key (`source`, `content`).\n   *\n   *     If the key is `source`, the value should be another object containing\n   *     `imageUri` or `filename` as a key and a string as a value.\n   *\n   *     If the key is `content`, the value should be base64 encoded text.\n   *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n   * @param {object} [callOptions] Optional parameters. You can override the\n   *     default settings for this call, e.g, timeout, retries, paginations,\n   *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n   *     for the details.\n   * @param {function(?Error, ?object)} [callback] The function which will be\n   *     called with the result of the API call.\n   *\n   *     The second parameter to the callback is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   * @returns {Promise} The promise which resolves to an array. The first\n   *     element of the array is an object representing\n   *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n   *     The promise has a method named \"cancel\" which cancels the ongoing API\n   *     call.\n   *\n   * @example\n   * // Object localization is only available in v1p3beta1.\n   * const vision = require('@google-cloud/vision').v1p3beta1;\n   * const client = new vision.ImageAnnotatorClient();\n   *\n   * const request = {\n   *   image: {\n   *     source: {imageUri: 'gs://path/to/image.jpg'}\n   *   }\n   * };\n   *\n   * client\n   *   .objectLocalization(request)\n   *   .then(response => {\n   *     // doThingsWith(response);\n   *   })\n   *   .catch(err => {\n   *     console.error(err);\n   *   });\n   */\n\n\n  if (features.OBJECT_LOCALIZATION !== undefined) {\n    methods.objectLocalization = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.OBJECT_LOCALIZATION));\n  }\n\n  return methods;\n}\n\nexports.call = call;","map":{"version":3,"names":["Object","defineProperty","exports","value","call","fs","require","is","promisify_1","gax","_requestToObject","request","string","indexOf","image","source","filename","imageUri","Buffer","isBuffer","_coerceRequest","callback","object","undefined","Error","content","toString","readFile","err","blob","_createSingleFeatureMethod","featureValue","callOptionsOrCallback","annotateImageRequest","callOptions","function","features","type","feature","annotateImage","apiVersion","methods","promisify","req","requests","batchAnnotateImages","r","response","responses","protoFilesRoot","protobuf","Root","fromJSON","lookup","values","faceDetection","FACE_DETECTION","landmarkDetection","LANDMARK_DETECTION","logoDetection","LOGO_DETECTION","labelDetection","LABEL_DETECTION","textDetection","TEXT_DETECTION","documentTextDetection","DOCUMENT_TEXT_DETECTION","safeSearchDetection","SAFE_SEARCH_DETECTION","imageProperties","IMAGE_PROPERTIES","cropHints","CROP_HINTS","webDetection","WEB_DETECTION","PRODUCT_SEARCH","productSearch","OBJECT_LOCALIZATION","objectLocalization"],"sources":["C:/Users/mario/Desktop/AutoDocIA/node_modules/@google-cloud/vision/build/src/helpers.js"],"sourcesContent":["\"use strict\";\n// Copyright 2017 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// ** This file is automatically generated by gapic-generator-typescript. **\n// ** https://github.com/googleapis/gapic-generator-typescript **\n// ** All changes to this file may be overwritten. **\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.call = void 0;\nconst fs = require(\"fs\");\nconst is = require(\"is\");\nconst promisify_1 = require(\"@google-cloud/promisify\");\nconst gax = require(\"google-gax\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst _requestToObject = (request) => {\n    if (is.string(request)) {\n        // Is this a URL or a local file?\n        // Guess based on what the string looks like, and build the full\n        // request object in the correct format.\n        if (request.indexOf('://') === -1 || request.indexOf('file://') === 0) {\n            request = {\n                image: { source: { filename: request } },\n            };\n        }\n        else {\n            request = {\n                image: { source: { imageUri: request } },\n            };\n        }\n    }\n    else if (Buffer.isBuffer(request)) {\n        // Drop the buffer one level lower; it will get dealt with later\n        // in the function. This allows sending <Buffer> and {image: <Buffer>} to\n        // both work identically.\n        request = { image: request };\n    }\n    return request;\n};\nconst _coerceRequest = (request, callback) => {\n    // At this point, request must be an object with an `image` key; if not,\n    // it is an error. If there is no image, throw an exception.\n    if (!is.object(request) || is.undefined(request.image)) {\n        return callback(new Error('No image present.'));\n    }\n    // If this is a buffer, read it and send the object\n    // that the Vision API expects.\n    if (Buffer.isBuffer(request.image)) {\n        request.image = { content: request.image.toString('base64') };\n    }\n    // If the file is specified as a filename and exists on disk, read it\n    // and coerce it into the base64 content.\n    if (request.image.source && request.image.source.filename) {\n        fs.readFile(request.image.source.filename, (err, blob) => {\n            if (err) {\n                callback(err);\n                return;\n            }\n            request.image.content = blob.toString('base64');\n            delete request.image.source;\n            return callback(null, request);\n        });\n    }\n    else {\n        return callback(null, request);\n    }\n};\nconst _createSingleFeatureMethod = (featureValue) => {\n    return function (request, callOptionsOrCallback, callback) {\n        // confidence check: If we got a string or buffer, we need this to be\n        // in object form now, so we can tack on the features list.\n        //\n        // Do the minimum required conversion, which can also be guaranteed to\n        // be synchronous (e.g. no file loading yet; that is handled by\n        // annotateImage later.\n        const annotateImageRequest = _requestToObject(request);\n        // If a callback was provided and options were skipped, normalize\n        // the argument names.\n        let callOptions;\n        if (is.undefined(callback) && is.function(callOptionsOrCallback)) {\n            callback = callOptionsOrCallback;\n            callOptions = undefined;\n        }\n        else {\n            callOptions = callOptionsOrCallback;\n        }\n        // Add the feature to the request.\n        annotateImageRequest.features = annotateImageRequest.features || [\n            {\n                type: featureValue,\n            },\n        ];\n        // If the user submitted explicit features that do not line up with\n        // the precise method called, throw an exception.\n        for (const feature of annotateImageRequest.features) {\n            if (feature.type !== featureValue) {\n                throw new Error('Setting explicit features is not supported on this method. ' +\n                    'Use the #annotateImage method instead.');\n            }\n        }\n        // Call the underlying #annotateImage method.\n        return this.annotateImage(annotateImageRequest, callOptions, callback);\n    };\n};\nfunction call(apiVersion) {\n    const methods = {};\n    /**\n     * Annotate a single image with the requested features.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#annotateImage\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object[]} request.features An array of the specific annotation\n     *     features being requested. This should take a form such as:\n     *\n     *         [{type: vision.types.Feature.Type.FACE_DETECTION},\n     *         {type: vision.types.Feature.Type.WEB_DETECTION}]\n     *\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {source: {imageUri: 'gs://path/to/image.jpg'}},\n     *   features: [],\n     * };\n     * client\n     *   .annotateImage(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.annotateImage = (0, promisify_1.promisify)(function (request, callOptionsOrCallback, callback) {\n        // If a callback was provided and options were skipped, normalize\n        // the argument names.\n        let callOptions;\n        if (is.undefined(callback) && is.function(callOptionsOrCallback)) {\n            callback = callOptionsOrCallback;\n            callOptions = undefined;\n        }\n        else {\n            callOptions = callOptionsOrCallback;\n        }\n        // If we got a filename for the image, open the file and transform\n        // it to content.\n        return _coerceRequest(request, (err, req) => {\n            if (err) {\n                return callback(err);\n            }\n            // Call the GAPIC batch annotation function.\n            const requests = { requests: [req] };\n            return this.batchAnnotateImages(requests, callOptions, (err, r) => {\n                // If there is an error, handle it.\n                if (err) {\n                    return callback(err);\n                }\n                // We are guaranteed to only have one response element, since we\n                // only sent one image.\n                const response = r.responses[0];\n                // Fire the callback if applicable.\n                return callback(undefined, response);\n            });\n        });\n    });\n    const protoFilesRoot = gax.protobuf.Root.fromJSON(\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    require('../protos/protos.json'));\n    const features = protoFilesRoot.lookup(`google.cloud.vision.${apiVersion}.Feature.Type`).values;\n    /**\n     * Annotate a single image with face detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#faceDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .faceDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.faceDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.FACE_DETECTION));\n    /**\n     * Annotate a single image with landmark detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#landmarkDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .landmarkDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.landmarkDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LANDMARK_DETECTION));\n    /**\n     * Annotate a single image with logo detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#logoDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .logoDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.logoDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LOGO_DETECTION));\n    /**\n     * Annotate a single image with label detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#labelDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .labelDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.labelDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.LABEL_DETECTION));\n    /**\n     * Annotate a single image with text detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#textDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .textDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.textDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.TEXT_DETECTION));\n    /**\n     * Annotate a single image with document text detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#documentTextDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .documentTextDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.documentTextDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.DOCUMENT_TEXT_DETECTION));\n    /**\n     * Annotate a single image with safe search detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#safeSearchDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .safeSearchDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.safeSearchDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.SAFE_SEARCH_DETECTION));\n    /**\n     * Annotate a single image with image properties.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#imageProperties\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .imageProperties(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.imageProperties = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.IMAGE_PROPERTIES));\n    /**\n     * Annotate a single image with crop hints.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#cropHints\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .cropHints(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.cropHints = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.CROP_HINTS));\n    /**\n     * Annotate a single image with web detection.\n     *\n     * @see v1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1.AnnotateImageRequest\n     *\n     * @method v1.ImageAnnotatorClient#webDetection\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision');\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .webDetection(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    methods.webDetection = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.WEB_DETECTION));\n    /**\n     * Annotate a single image with the result from Product Search.\n     *\n     * @see v1p3beta1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1p3beta1.AnnotateImageRequest\n     *\n     * @method v1p3beta1.ImageAnnotatorClient#productSearch\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1p3beta1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * const vision = require('@google-cloud/vision').v1p3beta1;\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .productSearch(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    if (features.PRODUCT_SEARCH !== undefined) {\n        methods.productSearch = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.PRODUCT_SEARCH));\n    }\n    /**\n     * Annotate a single image with localization vectors.\n     *\n     * @see v1p3beta1.ImageAnnotatorClient#batchAnnotateImages\n     * @see google.cloud.vision.v1p3beta1.AnnotateImageRequest\n     *\n     * @method v1p3beta1.ImageAnnotatorClient#objectLocalization\n     * @param {object|string|Buffer} request A representation of the request\n     *     being sent to the Vision API. This is an\n     *     {@link google.cloud.vision.v1.AnnotateImageRequest AnnotateImageRequest}.\n     *     For simple cases, you may also send a string (the URL or filename of\n     *     the image) or a buffer (the image itself).\n     * @param {object} request.image A dictionary-like object representing the\n     *     image. This should have a single key (`source`, `content`).\n     *\n     *     If the key is `source`, the value should be another object containing\n     *     `imageUri` or `filename` as a key and a string as a value.\n     *\n     *     If the key is `content`, the value should be base64 encoded text.\n     *     See {@link https://cloud.google.com/vision/docs/base64} for the details.\n     * @param {object} [callOptions] Optional parameters. You can override the\n     *     default settings for this call, e.g, timeout, retries, paginations,\n     *     etc. See {@link https://googleapis.github.io/gax-nodejs/global.html#CallOptions| gax.CallOptions}\n     *     for the details.\n     * @param {function(?Error, ?object)} [callback] The function which will be\n     *     called with the result of the API call.\n     *\n     *     The second parameter to the callback is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     * @returns {Promise} The promise which resolves to an array. The first\n     *     element of the array is an object representing\n     *     [BatchAnnotateImagesResponse]{@link BatchAnnotateImagesResponse}.\n     *     The promise has a method named \"cancel\" which cancels the ongoing API\n     *     call.\n     *\n     * @example\n     * // Object localization is only available in v1p3beta1.\n     * const vision = require('@google-cloud/vision').v1p3beta1;\n     * const client = new vision.ImageAnnotatorClient();\n     *\n     * const request = {\n     *   image: {\n     *     source: {imageUri: 'gs://path/to/image.jpg'}\n     *   }\n     * };\n     *\n     * client\n     *   .objectLocalization(request)\n     *   .then(response => {\n     *     // doThingsWith(response);\n     *   })\n     *   .catch(err => {\n     *     console.error(err);\n     *   });\n     */\n    if (features.OBJECT_LOCALIZATION !== undefined) {\n        methods.objectLocalization = (0, promisify_1.promisify)(_createSingleFeatureMethod(features.OBJECT_LOCALIZATION));\n    }\n    return methods;\n}\nexports.call = call;\n"],"mappings":"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EAAMkB,CAAN,KAAY;QAC/D;QACA,IAAIlB,GAAJ,EAAS;UACL,OAAOP,QAAQ,CAACO,GAAD,CAAf;QACH,CAJ8D,CAK/D;QACA;;;QACA,MAAMmB,QAAQ,GAAGD,CAAC,CAACE,SAAF,CAAY,CAAZ,CAAjB,CAP+D,CAQ/D;;QACA,OAAO3B,QAAQ,CAACE,SAAD,EAAYwB,QAAZ,CAAf;MACH,CAVM,CAAP;IAWH,CAjBoB,CAArB;EAkBH,CA/BuB,CAAxB;EAgCA,MAAME,cAAc,GAAGxC,GAAG,CAACyC,QAAJ,CAAaC,IAAb,CAAkBC,QAAlB,EACvB;EACA9C,OAAO,CAAC,uBAAD,CAFgB,CAAvB;EAGA,MAAM8B,QAAQ,GAAGa,cAAc,CAACI,MAAf,CAAuB,uBAAsBb,UAAW,eAAxD,EAAwEc,MAAzF;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIb,OAAO,CAACc,aAAR,GAAwB,CAAC,GAAG/C,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACoB,cAAV,CAArD,CAAxB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIf,OAAO,CAACgB,iBAAR,GAA4B,CAAC,GAAGjD,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACsB,kBAAV,CAArD,CAA5B;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIjB,OAAO,CAACkB,aAAR,GAAwB,CAAC,GAAGnD,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACwB,cAAV,CAArD,CAAxB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACInB,OAAO,CAACoB,cAAR,GAAyB,CAAC,GAAGrD,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAAC0B,eAAV,CAArD,CAAzB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIrB,OAAO,CAACsB,aAAR,GAAwB,CAAC,GAAGvD,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAAC4B,cAAV,CAArD,CAAxB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIvB,OAAO,CAACwB,qBAAR,GAAgC,CAAC,GAAGzD,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAAC8B,uBAAV,CAArD,CAAhC;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACIzB,OAAO,CAAC0B,mBAAR,GAA8B,CAAC,GAAG3D,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACgC,qBAAV,CAArD,CAA9B;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACI3B,OAAO,CAAC4B,eAAR,GAA0B,CAAC,GAAG7D,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACkC,gBAAV,CAArD,CAA1B;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACI7B,OAAO,CAAC8B,SAAR,GAAoB,CAAC,GAAG/D,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACoC,UAAV,CAArD,CAApB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACI/B,OAAO,CAACgC,YAAR,GAAuB,CAAC,GAAGjE,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACsC,aAAV,CAArD,CAAvB;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EACI,IAAItC,QAAQ,CAACuC,cAAT,KAA4BpD,SAAhC,EAA2C;IACvCkB,OAAO,CAACmC,aAAR,GAAwB,CAAC,GAAGpE,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACuC,cAAV,CAArD,CAAxB;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACI,IAAIvC,QAAQ,CAACyC,mBAAT,KAAiCtD,SAArC,EAAgD;IAC5CkB,OAAO,CAACqC,kBAAR,GAA6B,CAAC,GAAGtE,WAAW,CAACkC,SAAhB,EAA2BZ,0BAA0B,CAACM,QAAQ,CAACyC,mBAAV,CAArD,CAA7B;EACH;;EACD,OAAOpC,OAAP;AACH;;AACDvC,OAAO,CAACE,IAAR,GAAeA,IAAf"},"metadata":{},"sourceType":"script"}